{"version":3,"sources":["assets/images/send.svg","pages/auth/styles.ts","pages/auth/authValidation.ts","components/Input/styles.ts","components/Input/Input.tsx","components/Button/styles.ts","components/Button/Button.tsx","components/Avatar/styles.ts","components/Avatar/Avatar.tsx","assets/images/avatar.png","components/Textarea/styles.ts","components/Textarea/Textarea.tsx","components/IconButton/styles.ts","components/IconButton/IconButton.tsx","redux/chat.ts","pages/auth/Auth.tsx","pages/chat/chatValidation.ts","api/websocket.ts","pages/chat/Chat.tsx","pages/chat/ChatHeader/styles.ts","pages/chat/ChatHeader/ChatHeader.tsx","pages/chat/ChatControls/styles.ts","pages/chat/ChatControls/ChatControls.tsx","pages/chat/ChatMessages/styles.ts","pages/chat/ChatMessages/ChatMessages.tsx","pages/chat/ChatMessages/ChatMessage/styles.ts","pages/chat/ChatMessages/ChatMessage/ChatMessage.tsx","Root.tsx","App.tsx","redux/store.ts","common/reportWebVitals.ts","index.tsx"],"names":["_g","_defs","AuthContainer","styled","div","AuthWrapper","Title","h2","AuthForm","Form","ValidationSchema","Yup","shape","firstName","min","max","required","lastName","InputStyled","Field","ErrorMessage","p","Input","props","useField","name","field","meta","error","touched","ButtonStyled","button","Button","type","children","AvatarStyled","img","size","Avatar","src","TextareaStyled","textarea","Textarea","placeholder","textareaRef","useRef","values","useFormikContext","useEffect","current","style","height","scrollHeight","ref","input","Wrapper","label","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSend","_ref","svgRef","title","titleId","width","viewBox","fill","xmlns","id","clipPath","fillRule","clipRule","d","transform","ForwardRef","IconButton","initialState","messages","getCurrentTime","format","Date","locale","enUS","INITIAL_VALUES","Auth","dispatch","useDispatch","history","useHistory","initialValues","validationSchema","onSubmit","payload","push","message","trim","ws","WebSocket","Chat","useSelector","state","chat","actions","time","addOwnerMessageAC","send","JSON","stringify","resetForm","ChatHeaderContainer","UserName","ChatHeader","userFirstName","userLastName","FormContainer","ChatControls","submitForm","dirty","onKeyDown","e","shiftKey","preventDefault","disabled","MessagesContainer","ChatMessages","allMessages","onmessage","parse","data","map","item","index","MessageContainer","isOwner","Content","Text","Time","span","ChatMessage","ownerFirstName","ownerLastName","navigator","serviceWorker","register","then","registration","console","log","catch","StyledRoot","GlobalStyles","createGlobalStyle","Root","App","path","to","rootReducer","combineReducers","action","store","createStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6863c54.chunk.js","sourcesContent":["var _g, _defs;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSend(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 35,\n    height: 36,\n    viewBox: \"0 0 35 36\",\n    fill: \"#9B9B9B\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    clipPath: \"url(#clip0_11_21)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.9222 2.00039C35.0017 1.80163 35.0212 1.58388 34.9782 1.37415C34.9352 1.16442 34.8315 0.971932 34.6801 0.820543C34.5287 0.669154 34.3363 0.565524 34.1265 0.522502C33.9168 0.479479 33.699 0.498956 33.5003 0.578517L33.2925 0.661642L1.67872 13.3054L1.67653 13.3076L0.687783 13.7013C0.500511 13.776 0.337532 13.901 0.216848 14.0626C0.0961641 14.2241 0.0224721 14.4158 0.00391212 14.6166C-0.0146478 14.8173 0.0226467 15.0193 0.111676 15.2002C0.200705 15.3811 0.338005 15.5339 0.508408 15.6416L1.40528 16.2104L1.40747 16.2148L11.389 22.5651L12.334 23.1666L12.9356 24.1116L19.2859 34.0932L19.2903 34.0976L19.859 34.9945C19.9671 35.1642 20.12 35.3008 20.3008 35.3893C20.4815 35.4778 20.6832 35.5146 20.8836 35.4959C21.0839 35.4771 21.2753 35.4034 21.4364 35.2829C21.5976 35.1624 21.7225 34.9998 21.7972 34.8129L22.1931 33.822L34.839 2.20602L34.9222 1.9982V2.00039ZM30.9125 6.13477L31.9428 3.55789L29.3659 4.5882L12.9728 20.9813L13.7122 21.4516C13.8478 21.5378 13.9629 21.6528 14.049 21.7885L14.5193 22.5279L30.9125 6.13477Z\"\n  }))), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip0_11_21\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    width: 35,\n    height: 35,\n    fill: \"white\",\n    transform: \"translate(0 0.5)\"\n  })))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSend);\nexport default __webpack_public_path__ + \"static/media/send.3be215cd.svg\";\nexport { ForwardRef as ReactComponent };","import { Form } from 'formik';\r\nimport styled from 'styled-components';\r\n\r\nexport const AuthContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #252527;\r\n  height: 100vh;\r\n`;\r\n\r\nexport const AuthWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 300px;\r\n  margin: 0 auto;\r\n  @media (max-width: 480px) {\r\n    width: 300px;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  text-align: center;\r\n  color: aliceblue;\r\n  margin-bottom: 30px;\r\n  font-weight: 300;\r\n`;\r\n\r\nexport const AuthForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  height: 100%;\r\n  margin: auto 15px;\r\n  text-align: center;\r\n  position: relative;\r\n  & :first-child {\r\n    margin-bottom: 15px;\r\n  }\r\n`;","import * as Yup from 'yup';\r\n\r\nexport const ValidationSchema = Yup.object().shape({\r\n  firstName: Yup.string()\r\n    .min(2, 'First name is too short')\r\n    .max(15, 'First name is too long')\r\n    .required('First name required'),\r\n  lastName: Yup.string()\r\n    .min(2, 'Last name is too short')\r\n    .max(15, 'Last name is too long')\r\n    .required('Last name required'),\r\n});","import { Field } from 'formik';\r\nimport styled from 'styled-components';\r\n\r\nexport const InputStyled = styled(Field)`\r\n  height: 35px;\r\n  border-radius: 10px;\r\n  padding-left: 15px;\r\n  font-size: 90%;\r\n  border: 1px solid;\r\n  outline: none;\r\n  position: relative;\r\n  & ~ p {\r\n    top: 26px;\r\n    & ~ p {\r\n      top: 80px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  color: red;\r\n  position: absolute;\r\n  font-size: 12px;\r\n  font-weight: 300;\r\n  letter-spacing: 0.2px;\r\n  background: transparent;\r\n  border: none;\r\n  left: 5px;\r\n`;","import { useField } from 'formik';\r\n\r\nimport { ErrorMessage, InputStyled } from './styles';\r\n\r\ninterface IProps  {\r\n  type: 'text' | 'password';\r\n  name: string;\r\n  placeholder: string;\r\n};\r\n\r\nexport const Input: React.FC<IProps> = (props) => {\r\n  const [field, meta] = useField(props.name);\r\n\r\n  return (\r\n    <>  \r\n      <InputStyled\r\n        { ...field }\r\n        { ...props }\r\n      />\r\n      {\r\n        meta.error && meta.touched && (\r\n          <ErrorMessage>{meta.error}</ErrorMessage>\r\n        )\r\n      }\r\n    </>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const ButtonStyled = styled.button`\r\n  height: 35px;\r\n  width: 30%;\r\n  border-radius: 8px;\r\n  margin-top: 15px;\r\n  font-size: 16px;\r\n  border: 1px solid;\r\n  margin: 0 auto;\r\n  margin-top: 20px;\r\n  font-weight: 400;\r\n`;","import { ButtonStyled } from './styles';\r\n\r\ninterface IProps  {\r\n  type?: 'submit';\r\n};\r\n\r\nexport const Button: React.FC<IProps> = ({ type, children }) => {\r\n  return (\r\n    <ButtonStyled type={type}>{children}</ButtonStyled>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\ninterface IProps {\r\n  size: 'large' | 'small';\r\n};\r\n\r\nexport const AvatarStyled = styled.img<IProps>`\r\n  width: ${props => props.size === 'small' ? \"45px\" : \"60px\"};\r\n  margin: ${props => props.size === 'small' ? \"15px 0 15px 28px\" : \"0\"};\r\n`;","import { AvatarStyled } from './styles';\r\n\r\nimport avatar from '../../assets/images/avatar.png';\r\n\r\ninterface IProps  {\r\n  size: 'large' | 'small';\r\n};\r\n\r\nexport const Avatar: React.FC<IProps> = (props) => {\r\n  return (\r\n    <AvatarStyled src={avatar} { ...props } />\r\n  );\r\n};","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\r\n\r\nexport const TextareaStyled = styled.textarea`\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 69px;\r\n  background-color: #3A3A3A;\r\n  overflow: hidden;\r\n  outline: none;\r\n  border: none;\r\n  resize: none;\r\n  color: #FFFFFF;\r\n  flex: 0 0 auto;\r\n  font-weight: 400;\r\n  font-size: 26px;\r\n  padding: 20px 60px 15px 20px;\r\n  & ::placeholder {\r\n    color: #D1D1D1;\r\n    font-weight: 300;\r\n  }\r\n`;","import { useField, useFormikContext } from 'formik';\r\nimport { useEffect, useRef } from 'react';\r\n\r\nimport { TextareaStyled } from './styles';\r\n\r\ninterface IProps {\r\n  name: string;\r\n  placeholder?: string;\r\n};\r\n\r\nconst TEXTAREA_HEIGHT = '69px';\r\n\r\nexport const Textarea: React.FC<IProps> = ({ name, placeholder = 'Enter text message...' }) => {\r\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\r\n  const { values } = useFormikContext();\r\n  const [field] = useField(name);\r\n   \r\n  useEffect(() => {\r\n    if (textareaRef && textareaRef.current) {\r\n      textareaRef.current.style.height = TEXTAREA_HEIGHT;\r\n      const scrollHeight = textareaRef.current.scrollHeight;\r\n      textareaRef.current.style.height = scrollHeight + \"px\";\r\n    }\r\n  }, [values]);\r\n  \r\n  return (\r\n    <TextareaStyled\r\n      ref={textareaRef}\r\n      { ...field }\r\n      name={name}\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const Button = styled.input`\r\n  visibility: hidden;\r\n  display: none;\r\n  & ~ svg {\r\n    fill: #14FF72;\r\n  }\r\n  &:disabled {\r\n    & ~ svg {\r\n      fill: #9B9B9B;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Wrapper = styled.label`\r\n  position: absolute;\r\n  cursor: pointer;\r\n  right: 20px;\r\n  bottom: 15px;\r\n  width: 35px;\r\n  height: 35px;\r\n  padding: 0;\r\n`;\r\n","import { Button, Wrapper } from './styles';\r\n\r\nimport { ReactComponent as Send } from '../../assets/images/send.svg';\r\n\r\ninterface IProps extends React.InputHTMLAttributes<HTMLInputElement> {\r\n  type?: 'button' | 'submit';\r\n};\r\n\r\nexport const IconButton: React.FC<IProps> =({ type = 'button', ...props }) => {\r\n  return (\r\n    <Wrapper>\r\n      <Button\r\n        type={type}\r\n        {...props}\r\n      />\r\n      <Send />\r\n    </Wrapper>\r\n  );\r\n};","import { format } from 'date-fns';\r\nimport { enUS } from 'date-fns/locale';\r\n\r\nconst initialState: InitialStateType = {\r\n  messages: [],\r\n  firstName: '',\r\n  lastName: '',\r\n};\r\n\r\nconst getCurrentTime = () => {\r\n  return format(new Date(), \"HH':'mm a\", { locale: enUS });\r\n};\r\n\r\nexport const chatReducer = (\r\n  state: InitialStateType = initialState,\r\n  action: ActionsType,\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'ADD-OWNER-MESSAGE':\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages, \r\n          {\r\n            firstName: state.firstName,\r\n            lastName: state.lastName,\r\n            ...action.payload\r\n          }\r\n        ]\r\n      };\r\n      case 'ADD-RESEIVED-MESSAGE':\r\n        return {\r\n          ...state,\r\n          messages: [\r\n            ...state.messages, \r\n            action.payload\r\n          ]\r\n        };  \r\n    case 'SAVE-NAME':\r\n      return {\r\n        ...state,\r\n        ...action.payload\r\n      }; \r\n    default:\r\n      return state;    \r\n  };\r\n};\r\n\r\n// action\r\nexport const addOwnerMessageAC = (message: string) => ({\r\n  type: 'ADD-OWNER-MESSAGE',\r\n  payload: { message, time: getCurrentTime() },\r\n} as const);\r\n\r\nexport const addReseivedMessageAC = (payload: MessageType) => ({\r\n  type: 'ADD-RESEIVED-MESSAGE',\r\n  payload: { ...payload, time: getCurrentTime() },\r\n} as const);\r\n\r\nexport const saveNameAC = (payload: NameType) => ({\r\n  type: 'SAVE-NAME',\r\n  payload,\r\n} as const);\r\n\r\n// types\r\nexport type InitialStateType = {\r\n  messages: MessageType[],\r\n  firstName: string;\r\n  lastName: string;\r\n};\r\n\r\nexport type MessageType = {\r\n  firstName: string;\r\n  lastName: string;\r\n  message: string;\r\n  time: string;\r\n};\r\n\r\nexport type NameType = {\r\n  firstName: string;\r\n  lastName: string;\r\n};\r\n\r\ntype ActionsType = \r\n | ReturnType <typeof addOwnerMessageAC>\r\n | ReturnType <typeof saveNameAC>\r\n | ReturnType <typeof addReseivedMessageAC>;","import { Formik } from 'formik';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { AuthContainer, AuthWrapper, AuthForm, Title } from './styles';\r\nimport { ValidationSchema } from './authValidation';\r\n\r\nimport { Button, Input } from '../../components';\r\nimport { NameType, saveNameAC } from '../../redux/chat';\r\n\r\nconst INITIAL_VALUES = {\r\n  firstName: '',\r\n  lastName: '',\r\n};\r\n\r\nexport const Auth: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(values: NameType) {\r\n    dispatch(saveNameAC(values));\r\n    history.push('/chat');\r\n  };\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <Formik\r\n        initialValues={INITIAL_VALUES}\r\n        validationSchema={ValidationSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <AuthWrapper>\r\n          <Title>Enter your first and last name to enter the chat</Title>\r\n          <AuthForm>\r\n            <Input\r\n              type=\"text\"\r\n              name=\"firstName\"\r\n              placeholder=\"First name\"\r\n            />\r\n            <Input\r\n              type=\"text\"\r\n              name=\"lastName\"\r\n              placeholder=\"Last name\"\r\n            />\r\n            <Button type=\"submit\">Login</Button>\r\n          </AuthForm>\r\n        </AuthWrapper >\r\n      </Formik >\r\n    </AuthContainer>\r\n  );\r\n};","import * as Yup from 'yup';\r\n\r\nexport const ValidationSchema = Yup.object().shape({\r\n  message: Yup.string().required().trim(),\r\n});","export const ws = new WebSocket('wss://ws.qexsystems.ru');","import { Formik } from 'formik';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { ValidationSchema } from './chatValidation';\r\n\r\nimport { ChatHeader, ChatMessages, ChatControls } from '../chat';\r\nimport { addOwnerMessageAC } from '../../redux/chat';\r\nimport { AppRootStateType } from '../../redux/store';\r\nimport { ws } from '../../api/websocket';\r\n\r\nconst INITIAL_VALUES = {\r\n  message: '',\r\n};\r\n\r\nexport const Chat: React.FC = () => {\r\n  const firstName = useSelector<AppRootStateType>(state => state.chat.firstName);\r\n  const lastName = useSelector<AppRootStateType>(state => state.chat.lastName);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = ({ message }: typeof INITIAL_VALUES, actions: { resetForm: () => void }) => {\r\n    dispatch(addOwnerMessageAC(message));\r\n    ws.send(JSON.stringify({\r\n      message,\r\n      firstName,\r\n      lastName,\r\n    }));\r\n    actions.resetForm();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatHeader />\r\n      <ChatMessages />\r\n      <Formik\r\n        initialValues={INITIAL_VALUES}\r\n        validationSchema={ValidationSchema}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <ChatControls />\r\n      </Formik>\r\n    </>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const ChatHeaderContainer = styled.div`\r\n  background-color: #0F0F0F;\r\n  height: 75px;\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 35px;\r\n`;\r\n\r\nexport const UserName = styled.p`\r\n  color: #D9D9D9;\r\n  font-weight: 600;\r\n  font-size: 26px;\r\n  margin: 0 0 0 20px;\r\n  line-height: 25px;\r\n`;","import { useSelector } from 'react-redux';\r\n\r\nimport { UserName, ChatHeaderContainer } from './styles';\r\n\r\nimport { AppRootStateType } from '../../../redux/store';\r\nimport { Avatar } from '../../../components';\r\n\r\nexport const ChatHeader: React.FC = () => {\r\n  const userFirstName = useSelector<AppRootStateType, string>(state => state.chat.firstName);\r\n  const userLastName = useSelector<AppRootStateType, string>(state => state.chat.lastName);\r\n\r\n  return (\r\n    <ChatHeaderContainer>\r\n      <Avatar size=\"small\"/>\r\n      <UserName>\r\n        {`${userFirstName} ${userLastName}`}\r\n      </UserName>\r\n    </ChatHeaderContainer>\r\n  );\r\n};","import { Form } from 'formik';\r\nimport styled from 'styled-components';\r\n\r\nexport const FormContainer = styled(Form)`\r\n  width: 100%;\r\n  display: flex;\r\n  height: auto;\r\n  position: fixed;\r\n  bottom: 0;\r\n`;","import { useFormikContext } from 'formik';\r\n\r\nimport { FormContainer } from './styles';\r\n\r\nimport { Textarea, IconButton } from '../../../components';\r\n\r\nexport const ChatControls: React.FC = () => {\r\n  const { submitForm, dirty } = useFormikContext();\r\n\r\n  const onMessageSendHandler = (e: React.KeyboardEvent) => {\r\n    if(e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      submitForm();\r\n    };\r\n  };\r\n\r\n  return (\r\n    <FormContainer onKeyDown={onMessageSendHandler} >\r\n      <Textarea name=\"message\" />\r\n      <IconButton type=\"submit\" disabled={!dirty}></IconButton>\r\n    </FormContainer>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const MessagesContainer = styled.div`\r\n  padding: 10px 0 69px 0;\r\n`;","import { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { MessagesContainer } from './styles';\r\n\r\nimport { ChatMessage } from '../../chat';\r\nimport { ws } from '../../../api/websocket';\r\nimport { AppRootStateType } from '../../../redux/store';\r\nimport { addReseivedMessageAC, MessageType } from '../../../redux/chat';\r\n\r\nexport const ChatMessages: React.FC = () => {\r\n  const allMessages = useSelector<AppRootStateType, Array<MessageType>>(state => state.chat.messages);\r\n  const dispatch = useDispatch();\r\n\r\n  ws.onmessage = (e) => {\r\n    dispatch(addReseivedMessageAC(JSON.parse(e.data)));\r\n  };\r\n  \r\n  return (\r\n    <MessagesContainer>\r\n      {\r\n        allMessages.map((item, index) => {\r\n          return (\r\n            <ChatMessage\r\n              key={index}\r\n              { ...item }\r\n            />\r\n          )\r\n        })\r\n      }\r\n    </MessagesContainer>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\ninterface IProps {\r\n  isOwner: boolean;\r\n};\r\n\r\nexport const MessageContainer = styled.div<IProps>`\r\n  display: flex;\r\n  ${props => props.isOwner ? \"align-items: flex-end;\" : \"justify-content: end;\"};\r\n  margin: 0 28px 9px 28px;\r\n`;\r\n\r\nexport const Content = styled.div<IProps>`\r\n  max-width: 449px;\r\n  width: 449px;\r\n  min-height: 76px;\r\n  margin-left: 17px;\r\n  border-radius: 9px;\r\n  background-color: ${props => props.isOwner ?\r\n\"#464646\" : \"rgb(20,255,114,0.7)\"};\r\n  position: relative;\r\n`;\r\n\r\nexport const UserName = styled.p`\r\n  color: #ECECEC;\r\n  font-weight: 700;\r\n  font-size: 20px;\r\n  margin: 10px 10px 5px 16px;\r\n`;\r\n\r\nexport const Text = styled.p<IProps>`\r\n  color: ${props => props.isOwner ?\r\n\"#ECECEC\" : \"#FFFFFF\"};\r\n  font-weight: 400;\r\n  font-size: 20px;\r\n  line-height: 24px;\r\n  margin: ${props => props.isOwner ? \"0 28px 11px 16px\" : \"11px 28px 11px 16px\"};\r\n  word-break: break-all;\r\n`;\r\n\r\nexport const Time = styled.span<IProps>`\r\n  position: absolute;\r\n  right: 5px;\r\n  bottom: 5px;\r\n  width: 79px;\r\n  font-size: 17px;\r\n  font-weight: 300;\r\n  color: ${props => props.isOwner ?\r\n\"#14FF72\" : \"#DFDFDF\"};\r\n`;","import { useSelector } from 'react-redux';\r\n\r\nimport { Content, MessageContainer, UserName, Text, Time } from './styles';\r\n\r\nimport { AppRootStateType } from '../../../../redux/store';\r\nimport { Avatar } from '../../../../components';\r\n\r\ninterface IProps {\r\n  firstName: string;\r\n  lastName: string;\r\n  message: string;\r\n  time: string;\r\n};\r\n\r\nexport const ChatMessage: React.FC<IProps> = ({\r\n  firstName,\r\n  lastName,\r\n  message,\r\n  time,\r\n}) => {\r\n  const ownerFirstName = useSelector<AppRootStateType>(state => state.chat.firstName);\r\n  const ownerLastName = useSelector<AppRootStateType>(state => state.chat.lastName);\r\n  const isOwner = ownerFirstName === firstName && ownerLastName === lastName;\r\n\r\n  return (\r\n    <MessageContainer isOwner={isOwner}>\r\n      { isOwner && <Avatar size=\"large\" /> }\r\n      <Content isOwner={isOwner}>\r\n        {\r\n          isOwner &&\r\n          <UserName>{`${firstName} ${lastName}`}</UserName>\r\n        }\r\n        <Text isOwner={isOwner}>{message}</Text>\r\n        <Time isOwner={isOwner}>{time}</Time>\r\n      </Content>\r\n    </MessageContainer>\r\n  );\r\n};","import styled, { createGlobalStyle } from 'styled-components';\r\nimport './assets/fonts/fonts.css';\r\n\r\nif ('serviceWorker' in navigator) {\r\n  navigator.serviceWorker.register('sw.js').then(function(registration) {\r\n  console.log('Service worker registered:', registration);\r\n}).catch(function(error) {\r\n  console.log('Service workers registration error', error);\r\n});\r\n} else {\r\n  console.log('Current browser does not support service workers');\r\n}\r\n\r\nconst StyledRoot = styled.div`\r\n  min-height: 100%;\r\n  background-color: #1A1A1A;\r\n`;\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n\r\nbody { \r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont,'Inter', 'Segoe UI', 'Roboto', 'Oxygen',\r\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue';\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\nhtml, body, #root {\r\n  height: 100%;\r\n}\r\n\r\n* { \r\n  font-family: 'Inter';\r\n}\r\n\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n}\r\n`;\r\n\r\ninterface IProps {\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const Root: React.FC<IProps> = ({ children }) => {\r\n  return (\r\n    <>\r\n      <GlobalStyles />\r\n      <StyledRoot>\r\n        {children}\r\n      </StyledRoot>\r\n    </>\r\n  );\r\n};\r\n","import { Route, Redirect, Switch } from 'react-router-dom';\r\n\r\nimport { Auth } from './pages/auth';\r\nimport { Chat } from './pages/chat';\r\nimport { Root } from './Root';\r\n\r\nexport const App: React.FC = () => {\r\n  return (\r\n    <Root>\r\n      <Route path='/'>\r\n        <Redirect to='/auth' />\r\n      </Route>\r\n      <Switch>\r\n        <Route path='/auth'>\r\n          <Auth />\r\n        </Route>\r\n        <Route path='/chat'>\r\n          <Chat />\r\n        </Route>\r\n      </Switch>\r\n    </Root>\r\n  );\r\n};","import { combineReducers, createStore } from 'redux';\r\n\r\nimport { chatReducer } from './chat';\r\n\r\nconst rootReducer = combineReducers({\r\n  chat: chatReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n);\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { App } from './App';\r\nimport { store } from './redux/store';\r\nimport reportWebVitals from './common/reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>            \r\n  </BrowserRouter>, document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}