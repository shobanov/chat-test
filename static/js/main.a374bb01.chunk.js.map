{"version":3,"sources":["pages/auth/validation.ts","pages/auth/styles.ts","components/Button/styles.ts","components/Button/Button.tsx","components/Input/styles.ts","components/Input/Input.tsx","redux/chat.ts","pages/auth/Auth.tsx","api/websocket.ts","components/Avatar/styles.ts","components/Avatar/Avatar.tsx","assets/images/avatar.png","pages/chat/ChatHeader/styles.ts","pages/chat/ChatHeader/ChatHeader.tsx","pages/chat/ChatMessages/styles.ts","pages/chat/ChatMessages/ChatMessage/styles.ts","pages/chat/ChatMessages/ChatMessage/ChatMessage.tsx","pages/chat/ChatMessages/ChatMessages.tsx","pages/chat/ChatControls/styles.ts","components/Textarea/styles.ts","components/Textarea/Textarea.tsx","components/IconButton/styles.ts","assets/images/sendFill.png","assets/images/send.png","components/IconButton/IconButton.tsx","pages/chat/ChatControls/ChatControls.tsx","pages/chat/Chat.tsx","Root.tsx","App.tsx","redux/store.ts","common/reportWebVitals.ts","index.tsx"],"names":["ValidationSchema","Yup","shape","firstName","min","max","required","lastName","AuthContainer","styled","div","AuthWrapper","Title","h2","AuthForm","Form","ButtonStyled","button","Button","type","children","InputStyled","Field","ErrorMessage","p","Input","props","useField","name","field","meta","error","touched","initialState","messages","getCurrentTime","format","Date","locale","enUS","INITIAL_VALUES","Auth","dispatch","useDispatch","history","useHistory","initialValues","onSubmit","values","payload","push","validationSchema","placeholder","ws","WebSocket","AvatarStyled","img","size","Avatar","src","ChatHeaderContainer","UserName","ChatHeader","userFirstName","useSelector","state","chat","userLastName","MessagesContainer","MessageContainer","isOwner","Content","Text","Time","span","Message","message","time","Messages","allMessages","onmessage","e","JSON","parse","data","map","item","index","FormContainer","TextareaStyled","textarea","Textarea","textareaRef","useRef","useEffect","current","style","height","scrollHeight","textLength","ref","InputButton","input","hasValue","IconButton","ChatControls","formik","useFormikContext","useState","setHasValue","value","onKeyDown","key","shiftKey","preventDefault","submitForm","Chat","actions","send","stringify","resetForm","navigator","serviceWorker","register","then","registration","console","log","catch","StyledRoot","GlobalStyles","createGlobalStyle","Root","App","path","to","rootReducer","combineReducers","action","store","createStore","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a374bb01.chunk.js","sourcesContent":["import * as Yup from 'yup';\r\n\r\nexport const ValidationSchema = Yup.object().shape({\r\n  firstName: Yup.string()\r\n    .min(2, 'First name is too short')\r\n    .max(15, 'First name is too long')\r\n    .required('First name required'),\r\n  lastName: Yup.string()\r\n    .min(2, 'Last name is too short')\r\n    .max(15, 'Last name is too long')\r\n    .required('Last name required'),\r\n});","import { Form } from 'formik';\r\nimport styled from 'styled-components';\r\n\r\nexport const AuthContainer = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #252527;\r\n  height: 100vh;\r\n`;\r\n\r\nexport const AuthWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  width: 300px;\r\n  margin: 0 auto;\r\n  @media (max-width: 480px) {\r\n    width: 300px;\r\n  }\r\n`;\r\n\r\nexport const Title = styled.h2`\r\n  text-align: center;\r\n  color: aliceblue;\r\n  margin-bottom: 30px;\r\n  font-weight: 300;\r\n`;\r\n\r\nexport const AuthForm = styled(Form)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 80%;\r\n  height: 100%;\r\n  margin: auto 15px;\r\n  text-align: center;\r\n  position: relative;\r\n  & :first-child {\r\n    margin-bottom: 15px;\r\n  }\r\n`;","import styled from 'styled-components';\r\n\r\nexport const ButtonStyled = styled.button`\r\n  height: 35px;\r\n  width: 30%;\r\n  border-radius: 8px;\r\n  margin-top: 15px;\r\n  font-size: 16px;\r\n  border: 1px solid;\r\n  margin: 0 auto;\r\n  margin-top: 20px;\r\n  font-weight: 400;\r\n`;","import { ButtonStyled } from './styles';\r\n\r\ninterface IProps  {\r\n  type?: 'submit';\r\n};\r\n\r\nexport const Button: React.FC<IProps> = ({ type, children }) => {\r\n  return (\r\n    <ButtonStyled type={type}>{children}</ButtonStyled>\r\n  );\r\n};","import { Field } from 'formik';\r\nimport styled from 'styled-components';\r\n\r\nexport const InputStyled = styled(Field)`\r\n  height: 35px;\r\n  border-radius: 10px;\r\n  padding-left: 15px;\r\n  font-size: 90%;\r\n  border: 1px solid;\r\n  outline: none;\r\n  position: relative;\r\n  & ~ p {\r\n    top: 26px;\r\n    & ~ p {\r\n      top: 80px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const ErrorMessage = styled.p`\r\n  color: red;\r\n  position: absolute;\r\n  font-size: 12px;\r\n  font-weight: 300;\r\n  letter-spacing: 0.2px;\r\n  background: transparent;\r\n  border: none;\r\n  left: 5px;\r\n`;","import { useField } from 'formik';\r\n\r\nimport { ErrorMessage, InputStyled } from './styles';\r\n\r\ninterface IProps  {\r\n  type: 'text' | 'password';\r\n  name: string;\r\n  placeholder: string;\r\n};\r\n\r\nexport const Input: React.FC<IProps> = (props) => {\r\n  const [field, meta] = useField(props.name);\r\n\r\n  return (\r\n    <>  \r\n      <InputStyled\r\n        { ...field }\r\n        { ...props }\r\n      />\r\n      {\r\n        meta.error && meta.touched ? (\r\n          <ErrorMessage>{meta.error}</ErrorMessage>\r\n        ) : null\r\n      }\r\n    </>\r\n  );\r\n};","import { format } from 'date-fns';\r\nimport { enUS } from 'date-fns/locale';\r\n\r\nconst initialState: InitialStateType = {\r\n  messages: [],\r\n  firstName: '',\r\n  lastName: '',\r\n};\r\n\r\nconst getCurrentTime = () => {\r\n  return format(new Date(), \"HH':'mm a\", { locale: enUS });\r\n};\r\n\r\nexport const chatReducer = (\r\n  state: InitialStateType = initialState,\r\n  action: ActionsType,\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case 'ADD-OWNER-MESSAGE':\r\n      return {\r\n        ...state,\r\n        messages: [\r\n          ...state.messages, \r\n          {\r\n            firstName: state.firstName,\r\n            lastName: state.lastName,\r\n            message: action.payload,\r\n            time: action.time,\r\n          }\r\n        ]\r\n      };\r\n      case 'ADD-RESEIVED-MESSAGE':\r\n        return {\r\n          ...state,\r\n          messages: [\r\n            ...state.messages, \r\n            {\r\n              firstName: action.payload.firstName,\r\n              lastName: action.payload.lastName,\r\n              message: action.payload.message,\r\n              time: action.time,\r\n            }\r\n          ]\r\n        };  \r\n    case 'SAVE-NAME':\r\n      return {\r\n        ...state,\r\n        firstName: action.payload.firstName,\r\n        lastName: action.payload.lastName,\r\n      }; \r\n    default:\r\n      return state;    \r\n  };\r\n};\r\n\r\n// action\r\nexport const addOwnerMessageAC = (payload: string) => ({\r\n  type: 'ADD-OWNER-MESSAGE',\r\n  payload,\r\n  time: getCurrentTime(),\r\n} as const);\r\n\r\nexport const addReseivedMessageAC = (payload: MessageType) => ({\r\n  type: 'ADD-RESEIVED-MESSAGE',\r\n  payload,\r\n  time: getCurrentTime(),\r\n} as const);\r\n\r\nexport const saveNameAC = (payload: NameType) => ({\r\n  type: 'SAVE-NAME',\r\n  payload,\r\n} as const);\r\n\r\n// types\r\nexport type InitialStateType = {\r\n  messages: MessageType[],\r\n  firstName: string;\r\n  lastName: string;\r\n};\r\n\r\nexport type MessageType = {\r\n  firstName: string;\r\n  lastName: string;\r\n  message: string;\r\n  time: string;\r\n};\r\n\r\nexport type NameType = {\r\n  firstName: string;\r\n  lastName: string;\r\n};\r\n\r\ntype ActionsType = \r\n | ReturnType <typeof addOwnerMessageAC>\r\n | ReturnType <typeof saveNameAC>\r\n | ReturnType <typeof addReseivedMessageAC>;","import { Formik } from 'formik';\r\nimport { useDispatch } from 'react-redux';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport { ValidationSchema } from './validation';\r\nimport { AuthContainer, AuthWrapper, AuthForm, Title } from './styles';\r\nimport { Button } from '../../components/Button/Button';\r\nimport { Input } from '../../components/Input/Input';\r\nimport { NameType, saveNameAC } from '../../redux/chat';\r\n\r\nconst INITIAL_VALUES = {\r\n  firstName: '',\r\n  lastName: '',\r\n};\r\n\r\nexport const Auth: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(values: NameType) {\r\n    dispatch(saveNameAC(values));\r\n    history.push('/chat');\r\n  };\r\n\r\n  return (\r\n    <AuthContainer>\r\n      <Formik initialValues={INITIAL_VALUES} onSubmit={handleSubmit} validationSchema={ValidationSchema}>\r\n          <AuthWrapper>\r\n            <Title>Enter your first and last name to enter the chat</Title>\r\n            <AuthForm>\r\n              <Input\r\n                type=\"text\"\r\n                name=\"firstName\"\r\n                placeholder=\"First name\"\r\n              />\r\n              <Input\r\n                type=\"text\"\r\n                name=\"lastName\"\r\n                placeholder=\"Last name\"\r\n              />\r\n              <Button type=\"submit\">Login</Button>\r\n            </AuthForm>\r\n          </AuthWrapper >\r\n      </Formik >\r\n    </AuthContainer>\r\n  );\r\n};","export const ws = new WebSocket('wss://ws.qexsystems.ru');","import styled from 'styled-components';\r\n\r\ninterface IProps {\r\n  size: 'large' | 'small';\r\n};\r\n\r\nexport const AvatarStyled = styled.img<IProps>`\r\n  width: ${props => props.size === 'small' ? \"45px\" : \"60px\"};\r\n  margin: ${props => props.size === 'small' ? \"15px 0 15px 28px\" : \"0\"};\r\n`;","import { AvatarStyled } from './styles';\r\nimport avatar from '../../assets/images/avatar.png';\r\n\r\ninterface IProps  {\r\n  size: 'large' | 'small';\r\n};\r\n\r\nexport const Avatar: React.FC<IProps> = (props) => {\r\n  return (\r\n    <AvatarStyled src={avatar} { ...props } />\r\n  );\r\n};","export default \"data:image/png;base64,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\"","import styled from 'styled-components';\r\n\r\nexport const ChatHeaderContainer = styled.div`\r\n  background-color: #0F0F0F;\r\n  height: 75px;\r\n  position: relative;\r\n  margin-bottom: 35px;\r\n`;\r\n\r\nexport const UserName = styled.p`\r\n  color: #D9D9D9;\r\n  margin: 0;\r\n  position: absolute;\r\n  top: 20px;\r\n  left: 91px;\r\n  font-weight: 600;\r\n  font-size: 26px;\r\n  @media (max-width: 527px) {\r\n    top: 5px;\r\n  }\r\n`;","import { useSelector } from 'react-redux';\r\n\r\nimport { Avatar } from '../../../components/Avatar/Avatar';\r\nimport { AppRootStateType } from '../../../redux/store';\r\nimport { UserName, ChatHeaderContainer } from './styles';\r\n\r\nexport const ChatHeader: React.FC = () => {\r\n  const userFirstName = useSelector<AppRootStateType, string>(state => state.chat.firstName);\r\n  const userLastName = useSelector<AppRootStateType, string>(state => state.chat.lastName);\r\n\r\n  return (\r\n    <ChatHeaderContainer>\r\n      <Avatar size=\"small\"/>\r\n      <UserName>\r\n        {`${userFirstName} ${userLastName}`}\r\n      </UserName>\r\n    </ChatHeaderContainer>\r\n  );\r\n};","import styled from 'styled-components';\r\n\r\nexport const MessagesContainer = styled.div`\r\n  padding: 10px 0 69px 0;\r\n`;","import styled from 'styled-components';\r\n\r\ninterface IProps {\r\n  isOwner: boolean;\r\n};\r\n\r\nexport const MessageContainer = styled.div<IProps>`\r\n  display: flex;\r\n  ${props => props.isOwner ? \"align-items: flex-end;\" : \"justify-content: end;\"};\r\n  margin: 0 28px 9px 28px;\r\n`;\r\n\r\nexport const Content = styled.div<IProps>`\r\n  max-width: 449px;\r\n  width: 449px;\r\n  min-height: 76px;\r\n  margin-left: 17px;\r\n  border-radius: 9px;\r\n  background-color: ${props => props.isOwner ?\r\n\"#464646\" : \"#14FF72\"};\r\n  position: relative;\r\n`;\r\n\r\nexport const UserName = styled.p`\r\n  color: #ECECEC;\r\n  font-weight: 700;\r\n  font-size: 20px;\r\n  margin-top: 10px;\r\n  margin: 10px 10px 5px 16px;\r\n`;\r\n\r\nexport const Text = styled.p<IProps>`\r\n  color: ${props => props.isOwner ?\r\n\"#ECECEC\" : \"#FFFFFF\"};\r\n  font-weight: 400;\r\n  font-size: 20px;\r\n  line-height: 24px;\r\n  margin: 0 28px 11px 16px;\r\n  word-wrap: break-word;\r\n`;\r\n\r\nexport const Time = styled.span<IProps>`\r\n  position: absolute;\r\n  right: 5px;\r\n  bottom: 5px;\r\n  width: 79px;\r\n  font-size: 17px;\r\n  font-weight: 300;\r\n  color: ${props => props.isOwner ?\r\n\"#14FF72\" : \"#DFDFDF\"};\r\n`;","import { useSelector } from 'react-redux';\r\n\r\nimport { AppRootStateType } from '../../../../redux/store';\r\nimport { Avatar } from '../../../../components/Avatar/Avatar';\r\nimport { Content, MessageContainer, UserName, Text, Time } from './styles';\r\n\r\ninterface IProps {\r\n  firstName: string;\r\n  lastName: string;\r\n  message: string;\r\n  time: string;\r\n};\r\n\r\nexport const Message: React.FC<IProps> = ({\r\n  firstName,\r\n  lastName,\r\n  message,\r\n  time,\r\n}) => {\r\n  const userFirstName = useSelector<AppRootStateType>(state => state.chat.firstName);\r\n  const userLastName = useSelector<AppRootStateType>(state => state.chat.lastName);\r\n  const isOwner = userFirstName === firstName && userLastName === lastName;\r\n\r\n  return (\r\n    <MessageContainer isOwner={isOwner}>\r\n      { isOwner && <Avatar size=\"large\" /> }\r\n      <Content isOwner={isOwner}>\r\n        {\r\n          isOwner &&\r\n          <UserName>{`${firstName} ${lastName}`}</UserName>\r\n        }\r\n        <Text isOwner={isOwner}>{message}</Text>\r\n        <Time isOwner={isOwner}>{time}</Time>\r\n      </Content>\r\n    </MessageContainer>\r\n  );\r\n};","import { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { MessagesContainer } from './styles';\r\nimport { Message } from './ChatMessage/ChatMessage';\r\nimport { AppRootStateType } from '../../../redux/store';\r\nimport { addReseivedMessageAC, MessageType } from '../../../redux/chat';\r\nimport { ws } from '../../../api/websocket';\r\n\r\nexport const Messages: React.FC = () => {\r\n  const allMessages = useSelector<AppRootStateType, Array<MessageType>>(state => state.chat.messages);\r\n  const dispatch = useDispatch();\r\n\r\n  ws.onmessage = (e) => {\r\n    dispatch(addReseivedMessageAC(JSON.parse(e.data)));\r\n  };\r\n  \r\n  return (\r\n    <MessagesContainer>\r\n      {\r\n        allMessages.map((item, index) => {\r\n          return (\r\n            <Message\r\n              key={index}\r\n              { ...item }\r\n            />\r\n          )\r\n        })\r\n      }\r\n    </MessagesContainer>\r\n  );\r\n};","import { Form } from 'formik';\r\nimport styled from 'styled-components';\r\n\r\nexport const FormContainer = styled(Form)`\r\n  width: 100%;\r\n  display: flex;\r\n  height: auto;\r\n  position: fixed;\r\n  bottom: 0;\r\n`;","import styled from 'styled-components';\r\n\r\nexport const TextareaStyled = styled.textarea`\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 69px;\r\n  background-color: #3A3A3A;\r\n  overflow: hidden;\r\n  outline: none;\r\n  border: none;\r\n  resize: none;\r\n  color: #FFFFFF;\r\n  flex: 0 0 auto;\r\n  font-weight: 400;\r\n  font-size: 26px;\r\n  padding: 20px 60px 15px 20px;\r\n  & ::placeholder {\r\n    color: #D1D1D1;\r\n    font-weight: 300;\r\n  }\r\n`;","import { useField } from 'formik';\r\nimport { useEffect, useRef } from 'react';\r\n\r\nimport { TextareaStyled } from './styles';\r\n\r\ninterface IProps {\r\n  name: string;\r\n};\r\n\r\nconst TEXTAREA_HEIGHT = '69px';\r\n\r\nexport const Textarea: React.FC<IProps> = ({ name }) => {\r\n  const textareaRef = useRef<HTMLTextAreaElement | null>(null);\r\n  const [field] = useField(name);\r\n   \r\n  useEffect(() => {\r\n    if (textareaRef && textareaRef.current) {\r\n      textareaRef.current.style.height = TEXTAREA_HEIGHT;\r\n      const scrollHeight = textareaRef.current.scrollHeight;\r\n      textareaRef.current.style.height = scrollHeight + \"px\";\r\n    }\r\n  }, [textareaRef.current?.textLength]);\r\n  \r\n  return (\r\n    <TextareaStyled\r\n      ref={textareaRef}\r\n      { ...field }\r\n      name={name}\r\n      placeholder='Enter text message...'\r\n    />\r\n  );\r\n};","import styled from \"styled-components\";\r\nimport send from '../../assets/images/send.png';\r\nimport sendFill from '../../assets/images/sendFill.png';\r\n\r\ninterface IProps {\r\n  hasValue: boolean;\r\n};\r\n\r\nexport const InputButton = styled.input<IProps>`\r\n  position: absolute;\r\n  color: transparent;\r\n  cursor: pointer;\r\n  right: 20px;\r\n  bottom: 15px;\r\n  width: 35px;\r\n  height: 35px;\r\n  border: none;\r\n  outline: none;\r\n  padding: 0;\r\n  background-color: transparent;\r\n  background-image: url(${props => props.hasValue ? sendFill : send});\r\n`;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAD8BaggAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIdSURBVHgBxZiNUcJAEIXfRgpw1AKwBDvQTqQCkQbABvipAOjADrwSLIECwKEA4Nw1OQzhSG6TA94MJPeT48vuu00GwhV1a7u3LSRvFugS7PeSRi8tXEEPtvsM3PQB+yxt4o8FteX8YkD5aEhTEAoyFwHyRwNr/p4TiI/oS/8Wu4+zAZVFg88W/OMvaxov7m1vSmmvkXZ0IF808srDMHSbx1/Tfpq7OYSGOtwpEg2/ijA3SL54flv6VzR8dPNqR6gqGiEw2bDJz1UBBewULczezCogTTQ0MHkzVwLViYYO5tDMTkc3W4xGHYXBHJrZ6S9CTaOhhclkfNe3HmxvhBSkcQ1QwByZ2SmxWXFqKg2Mz8x7IF7kSRbDxWD8ZnbaZ+nO9qTSvpUtFAfGb2anxJ380HAsC1t+CuNMMJlM2aDXx/wUfuVDv+pOa8Bgg93jKf+IEl8nh3SWRWsSE6bMzKVAIrlwRaOu3FHR9IRdRw9Tbub/tQPF9WqA7O0uXRwdVKT1EKbczE4JArWk4SAfLQaZKnekCZkUDCSSNKXekndinU5V5kZADoojM9FdVW3m2kAiSZ+muoeYuRGQSHZayLzMzDMEqjbQksbmVJ0qyECh2kCiLWxl6kLNHAWIjbouT124maMAidLU4dM3pjFzNCARp+W9WJu0Zo4KJGlhgKJXDGooCpBI3qe4GBjX1po5OpBog21HUsX/hk20Znb6BT4PhDw55TljAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAjCAYAAAD8BaggAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIgSURBVHgBxZbdbcIwFIUvIQN0BBihG8AmROJHPEEngE7Q8oQESCkbdIN6hI7ACLzz13OrOAqpk/g6bjhSZMex4y/HJ05a9EDFcfx0Pp9nqM5xfI9Go35ID9B6ve6FYbgATE+3tVqtDpeNAeXceDJ0UdQEkMkN6AhH9pfL5RgEwYIbTqfT678BlbkBkAMm70+n08Nut4tvtxs3Kz73DlTghhEGfTuAGXA7yn3ah2rKIhtGmHa7/cVB5vbhcNjV/ZwdqnLDBia5rLJ9RUC2bghg0jCLgCRuSGAoE+ZKIBc3hDB3YU7H5Ru0G6j2yFE2MPkwa/06VNcNKUwiZRofbrfbN8DMyYMEMH/CrBXgGFDDMGQIcwoEd54RrgM1B2MMc3ovXcHSzdFxVnYjHzBFYdYKdAU/R+/4+vZRLaSvC5NIld7T1LjZbAYoFlVP6gBDiEi3KD+swNQ4Ho8/2C1MsPIJQyVhLgVi8UCs9ZyfKB96nEcOMKVh1rL+/UDolygWWSiqWNa7iSrCrBWQpRD6ZdYtTBAL30hl08kaiMXLlLyJRxKqaGeuBaShrtfrSjisMszOQKzJZLKU7O42Ya4FxEJ+Ist+B95GyFLOQAi5KtqnclIkkDMQC3tQ5dLZhtkLUBRFx4qlsw6zFyAWLx1c+jRdk4TZGxALe9ML5fYmaZi9AiXLks+KIgd5AWLx/1QWQhpm8g3Ewrcu4reOtwNpmLV+ACaqso5omXczAAAAAElFTkSuQmCC\"","import { InputButton } from './styles';\r\n\r\ninterface IProps {\r\n  type?: 'button' | 'submit';\r\n  hasValue: boolean;\r\n};\r\n\r\nexport const IconButton: React.FC<IProps> = ({ type = 'button', hasValue }) => {\r\n  return (\r\n    <InputButton type={type} hasValue={hasValue} />\r\n  );\r\n};","import { useField, useFormikContext } from 'formik';\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport { FormContainer } from './styles';\r\nimport { Textarea } from '../../../components/Textarea/Textarea';\r\nimport { IconButton } from '../../../components/IconButton/IconButton';\r\n\r\nexport const ChatControls: React.FC = () => {\r\n  const formik = useFormikContext();\r\n  const [field] = useField(\"message\");\r\n  const [hasValue, setHasValue] = useState<boolean>(false);\r\n\r\n  const onMessageSendHandler = (e: React.KeyboardEvent) => {\r\n    if(e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      formik.submitForm();\r\n    };\r\n  };\r\n\r\n  useEffect(() => {\r\n    return field.value ? setHasValue(true) : setHasValue(false);\r\n  },[field.value]);\r\n    \r\n  return (\r\n    <FormContainer onKeyDown={onMessageSendHandler} >\r\n      <Textarea name=\"message\" />\r\n      <IconButton type=\"submit\" hasValue={hasValue} />\r\n    </FormContainer>\r\n  );\r\n};","import { Formik } from 'formik';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { ws } from '../../api/websocket';\r\nimport { ChatHeader } from './ChatHeader/ChatHeader';\r\nimport { Messages } from './ChatMessages/ChatMessages';\r\nimport { ChatControls } from './ChatControls/ChatControls';\r\nimport { addOwnerMessageAC } from '../../redux/chat';\r\nimport { AppRootStateType } from '../../redux/store';\r\n\r\nconst INITIAL_VALUES = {\r\n  message: '',\r\n};\r\n\r\nexport const Chat: React.FC = () => {\r\n  const userFirstName = useSelector<AppRootStateType>(state => state.chat.firstName);\r\n  const userLastName = useSelector<AppRootStateType>(state => state.chat.lastName);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleSubmit = (values: typeof INITIAL_VALUES, actions: { resetForm: () => void }) => {\r\n    dispatch(addOwnerMessageAC(values.message));\r\n    ws.send(JSON.stringify({\r\n      message: values.message,\r\n      firstName: userFirstName,\r\n      lastName: userLastName,\r\n    }));\r\n    actions.resetForm();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatHeader />\r\n      <Messages />\r\n      <Formik\r\n        initialValues={INITIAL_VALUES}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <ChatControls />\r\n      </Formik>\r\n    </>\r\n  );\r\n};","import styled, { createGlobalStyle } from 'styled-components';\r\nimport './assets/fonts/fonts.css';\r\n\r\nif ('serviceWorker' in navigator) {\r\n  navigator.serviceWorker.register('sw.js').then(function(registration) {\r\n  console.log('Service worker registered:', registration);\r\n}).catch(function(error) {\r\n  console.log('Service workers registration error', error);\r\n});\r\n} else {\r\n  console.log('Current browser does not support service workers');\r\n}\r\n\r\nconst StyledRoot = styled.div`\r\n  min-height: 100%;\r\n  background-color: #1A1A1A;\r\n`;\r\n\r\nconst GlobalStyles = createGlobalStyle`\r\n\r\nbody { \r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont,'Inter', 'Segoe UI', 'Roboto', 'Oxygen',\r\n  'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue';\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\nhtml, body, #root {\r\n  height: 100%;\r\n}\r\n\r\n* { \r\n  font-family: 'Inter';\r\n}\r\n\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New', monospace;\r\n}\r\n`;\r\n\r\ninterface IProps {\r\n  children: React.ReactNode;\r\n};\r\n\r\nexport const Root: React.FC<IProps> = ({ children }) => {\r\n  return (\r\n    <>\r\n      <GlobalStyles />\r\n      <StyledRoot>\r\n        {children}\r\n      </StyledRoot>\r\n    </>\r\n  );\r\n};\r\n","import { Route, Redirect, Switch } from 'react-router-dom';\r\n\r\nimport { Auth } from './pages/auth/Auth';\r\nimport { Chat } from './pages/chat/Chat';\r\nimport { Root } from './Root';\r\n\r\nexport const App: React.FC = () => {\r\n  return (\r\n    <Root>\r\n      <Route path='/'>\r\n        <Redirect to='/auth' />\r\n      </Route>\r\n      <Switch>\r\n        <Route path='/auth'>\r\n          <Auth />\r\n        </Route>\r\n        <Route path='/chat'>\r\n          <Chat />\r\n        </Route>\r\n      </Switch>\r\n    </Root>\r\n  );\r\n};","import { combineReducers, createStore } from 'redux';\r\n\r\nimport { chatReducer } from './chat';\r\n\r\nconst rootReducer = combineReducers({\r\n  chat: chatReducer,\r\n});\r\n\r\nexport const store = createStore(\r\n  rootReducer,\r\n);\r\n\r\nexport type AppRootStateType = ReturnType<typeof rootReducer>;","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nimport { App } from './App';\r\nimport { store } from './redux/store';\r\nimport reportWebVitals from './common/reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>            \r\n  </BrowserRouter>, document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}